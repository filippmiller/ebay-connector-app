@tailwind base;
@tailwind components;
@tailwind utilities;
@layer base {
  :root {
    --radius: 0.5rem
  ;
    --sidebar-background: 0 0% 98%;
    --sidebar-foreground: 240 5.3% 26.1%;
    --sidebar-primary: 240 5.9% 10%;
    --sidebar-primary-foreground: 0 0% 98%;
    --sidebar-accent: 240 4.8% 95.9%;
    --sidebar-accent-foreground: 240 5.9% 10%;
    --sidebar-border: 220 13% 91%;
    --sidebar-ring: 217.2 91.2% 59.8%;

    /* Global UI tweak variables */
    --ui-root-font-size: 16px;
    --ui-font-scale: 1;
    --ui-nav-scale: 1;
    --ui-nav-active-bg: #2563eb;
    --ui-nav-active-text: #ffffff;
    --ui-nav-inactive-bg: transparent;
    --ui-nav-inactive-text: #374151;

    /* Global grid theme variables */
    --grid-row-height: 32px;
    --grid-header-height: 32px;
    --grid-font-size: 13px;
    --grid-header-bg: #f3f4f6; /* gray-100 */
    --grid-header-text-color: #4b5563; /* gray-600 */
    --grid-row-hover-bg: #eef2ff; /* indigo-50 */
    --grid-row-selected-bg: #e0f2fe; /* sky-100 */
  }

  html {
    /* All Tailwind rem-based sizes (text, h-*, w-*) now scale with --ui-font-scale. */
    font-size: calc(var(--ui-root-font-size) * var(--ui-font-scale));
  }

  .dark {
    --sidebar-background: 240 5.9% 10%;
    --sidebar-foreground: 240 4.8% 95.9%;
    --sidebar-primary: 224.3 76.3% 48%;
    --sidebar-primary-foreground: 0 0% 100%;
    --sidebar-accent: 240 3.7% 15.9%;
    --sidebar-accent-foreground: 240 4.8% 95.9%;
    --sidebar-border: 240 3.7% 15.9%;
    --sidebar-ring: 217.2 91.2% 59.8%;
  }
}

/* Grid theming helpers applied on .app-grid wrapper in DataGridPage */
@layer components {
  /* Top header navigation tabs */
  .ui-nav-tab {
    font-size: calc(0.875rem * var(--ui-nav-scale));
    padding: calc(0.55rem * var(--ui-nav-scale)) calc(1.1rem * var(--ui-nav-scale));
    min-height: calc(2.5rem * var(--ui-nav-scale));
  }

  .ui-nav-tab--active {
    background-color: var(--ui-nav-active-bg);
    color: var(--ui-nav-active-text);
  }

  .ui-nav-tab--inactive {
    background-color: var(--ui-nav-inactive-bg);
    color: var(--ui-nav-inactive-text);
  }

  .ui-tabs-trigger {
    font-size: calc(0.875rem * var(--ui-nav-scale));
    padding: calc(0.4rem * var(--ui-nav-scale)) calc(0.95rem * var(--ui-nav-scale));
    min-height: calc(2.25rem * var(--ui-nav-scale));
  }

  .app-grid {
    font-size: var(--grid-font-size);
  }

  .app-grid table {
    font-size: inherit;
  }

  .app-grid thead {
    background-color: var(--grid-header-bg);
    color: var(--grid-header-text-color);
  }

  .app-grid thead th {
    height: var(--grid-header-height);
  }

  .app-grid tbody tr {
    height: var(--grid-row-height);
  }

  .app-grid tbody tr:hover {
    background-color: var(--grid-row-hover-bg);
  }

  .app-grid.grid-density-compact {
    --grid-row-height: 24px;
    --grid-header-height: 26px;
    --grid-font-size: 11px;
  }

  .app-grid.grid-density-normal {
    --grid-row-height: 32px;
    --grid-header-height: 32px;
    --grid-font-size: 13px;
  }

  .app-grid.grid-density-comfortable {
    --grid-row-height: 40px;
    --grid-header-height: 40px;
    --grid-font-size: 14px;
  }

  .app-grid.grid-theme-default {
    --grid-header-bg: #f3f4f6;
    --grid-header-text-color: #4b5563;
  }

  .app-grid.grid-theme-blue {
    --grid-header-bg: #e0f2fe;
    --grid-header-text-color: #1d4ed8;
  }

.app-grid.grid-theme-dark {
    --grid-header-bg: #111827;
    --grid-header-text-color: #e5e7eb;
  }

  /* Full dark theme: dark background + light text for all grid elements */
  .app-grid.grid-theme-dark {
    background-color: #020617; /* slate-950 */
    color: #e5e7eb; /* gray-200 */
  }

  .app-grid.grid-theme-dark table,
  .app-grid.grid-theme-dark thead,
  .app-grid.grid-theme-dark tbody tr,
  .app-grid.grid-theme-dark tbody td {
    background-color: #020617;
    color: #e5e7eb;
  }

  .app-grid.grid-theme-dark tbody tr:nth-child(even) {
    background-color: #020617;
  }

  .app-grid.grid-theme-dark tbody tr:hover {
    background-color: #1f2937; /* slate-800 */
  }

  /* Override Tailwind background utilities inside dark grids */
  .app-grid.grid-theme-dark .bg-white,
  .app-grid.grid-theme-dark .bg-gray-50,
  .app-grid.grid-theme-dark .bg-gray-100,
  .app-grid.grid-theme-dark .bg-indigo-50 {
    background-color: transparent;
  }

  .app-grid.grid-theme-dark .text-gray-500,
  .app-grid.grid-theme-dark .text-gray-600 {
    color: #e5e7eb;
  }

  .app-grid.grid-theme-highContrast {
    --grid-header-bg: #000000;
    --grid-header-text-color: #ffffff;
  }
}

# –ù–∞–±–ª—é–¥–µ–Ω–∏—è –ø—Ä–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏

**–î–∞—Ç–∞:** 2025-01-XX  
**–¢–µ—Å—Ç –ø–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π:** Identity endpoint, filters, scopes

---

## üîç –ß—Ç–æ –ø—Ä–æ–≤–µ—Ä—è–µ–º

1. **Identity API** - –¥–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å username –∏ userId (–Ω–µ None)
2. **Orders API** - –¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º —Ñ–∏–ª—å—Ç—Ä–æ–º `lastModifiedDate`
3. **Transactions API** - –¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å —Å RSQL —Ñ–∏–ª—å—Ç—Ä–æ–º `filter=transactionDate:[...]`
4. **–ö–Ω–æ–ø–∫–∞ Stop** - –¥–æ–ª–∂–Ω–∞ —Ä–∞–±–æ—Ç–∞—Ç—å –∏ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é
5. **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** - –¥–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é

---

## üìù –ù–∞–±–ª—é–¥–µ–Ω–∏—è

### ‚úÖ –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:
- ‚úÖ –ö–Ω–æ–ø–∫–∞ **Stop** –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤–æ –≤—Ä–µ–º—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ "WHO WE ARE" —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –û–∫–Ω–æ –¥–∞—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç - –≤–∏–¥–∏–º –¥–µ—Ç–∞–ª—å–Ω—É—é –æ—à–∏–±–∫—É –æ—Ç eBay API

### ‚ùå –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã:

#### 1. Identity API - –≤—Å–µ –µ—â–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç None
**–õ–æ–≥–∏:**
```
[21:14:02] Connected as: None (eBay UserID: None)
```

**–ü—Ä–æ–±–ª–µ–º–∞:** Identity API endpoint –∏—Å–ø—Ä–∞–≤–ª–µ–Ω –Ω–∞ `/identity/v1/oauth2/userinfo`, –Ω–æ –≤—Å–µ –µ—â–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç None. –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:
- –¢–æ–∫–µ–Ω –Ω–µ –∏–º–µ–µ—Ç –Ω—É–∂–Ω–æ–≥–æ scope –¥–ª—è Identity API
- Endpoint –≤—Å–µ –µ—â–µ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π
- –¢–æ–∫–µ–Ω –Ω–µ–≤–∞–ª–∏–¥–µ–Ω

#### 2. Orders API - –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û–ï –ò–ú–Ø –§–ò–õ–¨–¢–†–ê
**–û—à–∏–±–∫–∞ –æ—Ç eBay API:**
```
400: Failed to fetch orders: {
  'errors': [{
    'errorId': 30700, 
    'domain': 'API_FULFILLMENT', 
    'category': 'REQUEST', 
    'message': "Invalid filter name: 'lastModifiedDate'",
    'parameters': [{'name': 'filterName', 'value': 'lastModifiedDate'}]
  }]
}
```

**–ü—Ä–æ–±–ª–µ–º–∞:** eBay API –≥–æ–≤–æ—Ä–∏—Ç —á—Ç–æ `lastModifiedDate` - –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∏–º—è —Ñ–∏–ª—å—Ç—Ä–∞! –ù—É–∂–Ω–æ –Ω–∞–π—Ç–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∏–º—è.

**–¢–µ–∫—É—â–∏–π –∫–æ–¥:**
```python
params["filter"] = f"lastModifiedDate:[{since_date}..{until_date}]"
```

**–í–æ–ø—Ä–æ—Å:** –ö–∞–∫–æ–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∏–º—è —Ñ–∏–ª—å—Ç—Ä–∞ –¥–ª—è Orders API? –í–æ–∑–º–æ–∂–Ω–æ:
- `creationDate`?
- `lastModified`?
- `orderDate`?
- –ò–ª–∏ —Ñ–∏–ª—å—Ç—Ä –≤–æ–æ–±—â–µ –Ω–µ –Ω—É–∂–µ–Ω?

---

## üìã –õ–æ–≥–∏ –∏–∑ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞

```
[21:14:02] Starting Orders sync from eBay (production) - using bulk limit=200
[21:14:02] === WHO WE ARE ===
[21:14:02] Connected as: None (eBay UserID: None)
[21:14:02] Environment: production
[21:14:02] API Configuration: Fulfillment API v1, max batch size: 200 orders per request
[21:14:02] Date window: 2025-08-08T21:09:02.000Z..2025-11-06T21:14:02.000Z
[21:14:02] Safety limit: max 200 pages
[21:14:02] ‚Üí Requesting page 1: GET /sell/fulfillment/v1/order?limit=200&offset=0
[21:14:02] Orders sync failed: 400: Failed to fetch orders: {'errors': [{'errorId': 30700, 'domain': 'API_FULFILLMENT', 'category': 'REQUEST', 'message': "Invalid filter name: 'lastModifiedDate'", 'parameters': [{'name': 'filterName', 'value': 'lastModifiedDate'}]}]}
[00:14:03] Connection error: Failed to stream events. Check network connection.
```

---

## üîó Network –∑–∞–ø—Ä–æ—Å—ã

### Orders API –∑–∞–ø—Ä–æ—Å:
```
POST /api/ebay/sync/orders
‚Üí Backend –¥–µ–ª–∞–µ—Ç:
GET /sell/fulfillment/v1/order?limit=200&offset=0&filter=lastModifiedDate:[2025-08-08T21:09:02.000Z..2025-11-06T21:14:02.000Z]&fieldGroups=TAX_BREAKDOWN
```

**–û—Ç–≤–µ—Ç:** 400 Bad Request —Å –æ—à–∏–±–∫–æ–π `Invalid filter name: 'lastModifiedDate'`

---

## üí° –í–æ–ø—Ä–æ—Å—ã –¥–ª—è "—É–º–Ω–æ–≥–æ –¥—Ä—É–≥–∞"

1. **–ö–∞–∫–æ–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∏–º—è —Ñ–∏–ª—å—Ç—Ä–∞ –¥–ª—è Orders API?** 
   - eBay API –≥–æ–≤–æ—Ä–∏—Ç `lastModifiedDate` –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ. –ö–∞–∫–æ–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ?
   - –ú–æ–∂–µ—Ç –±—ã—Ç—å `creationDate`, `orderDate`, –∏–ª–∏ –¥—Ä—É–≥–æ–µ?

2. **Identity API –≤—Å–µ –µ—â–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç None**
   - Endpoint –∏—Å–ø—Ä–∞–≤–ª–µ–Ω –Ω–∞ `/identity/v1/oauth2/userinfo`
   - –ù–æ –≤—Å–µ –µ—â–µ None. –ß—Ç–æ –µ—â–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ —Ç–∞–∫?

---

## üìå –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. –ù–∞–π—Ç–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∏–º—è —Ñ–∏–ª—å—Ç—Ä–∞ –¥–ª—è Orders API
2. –ò—Å–ø—Ä–∞–≤–∏—Ç—å Identity API (–µ—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ –Ω–µ –≤ —Ç–æ–∫–µ–Ω–µ)
3. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–Ω–æ–≤–∞

### Identity API
- [ ] `Connected as: XXX` (–Ω–µ None)
- [ ] `eBay UserID: XXX` (–Ω–µ None)
- [ ] –û—à–∏–±–∫–∏ –≤ –ª–æ–≥–∞—Ö (–µ—Å–ª–∏ –µ—Å—Ç—å)

### Orders Sync
- [ ] –°—Ç–∞—Ç—É—Å –æ—Ç–≤–µ—Ç–∞ (200 OK / –æ—à–∏–±–∫–∞)
- [ ] –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–∫–∞–∑–æ–≤ (0 –∏–ª–∏ –±–æ–ª—å—à–µ)
- [ ] –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- [ ] –û—à–∏–±–∫–∏ (–µ—Å–ª–∏ –µ—Å—Ç—å)
- [ ] –ü–æ–ª–Ω—ã–π URL –∑–∞–ø—Ä–æ—Å–∞ –∏–∑ –ª–æ–≥–æ–≤

### Transactions Sync
- [ ] –°—Ç–∞—Ç—É—Å –æ—Ç–≤–µ—Ç–∞ (200 OK / 404 / –¥—Ä—É–≥–∞—è –æ—à–∏–±–∫–∞)
- [ ] –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π (0 –∏–ª–∏ –±–æ–ª—å—à–µ)
- [ ] –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- [ ] –û—à–∏–±–∫–∏ (–µ—Å–ª–∏ –µ—Å—Ç—å)
- [ ] –ü–æ–ª–Ω—ã–π URL –∑–∞–ø—Ä–æ—Å–∞ –∏–∑ –ª–æ–≥–æ–≤

### –ö–Ω–æ–ø–∫–∞ Stop
- [ ] –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤–æ –≤—Ä–µ–º—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
- [ ] –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏
- [ ] –ó–∞–ø—Ä–æ—Å—ã –ø—Ä–µ–∫—Ä–∞—â–∞—é—Ç—Å—è –ø–æ—Å–ª–µ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- [ ] –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ endpoint'—ã
- [ ] –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤
- [ ] –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –æ—à–∏–±–∫–∏ (–µ—Å–ª–∏ –µ—Å—Ç—å) —Å –¥–µ—Ç–∞–ª—è–º–∏

---

## üêõ –ü—Ä–æ–±–ª–µ–º—ã (–µ—Å–ª–∏ –µ—Å—Ç—å)

### –ü—Ä–æ–±–ª–µ–º–∞ 1:
**–û–ø–∏—Å–∞–Ω–∏–µ:**
**–õ–æ–≥–∏:**
**–û–∂–∏–¥–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ:**
**–§–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ:**

---

## ‚úÖ –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

- 

---

## ‚ùå –ß—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

- 

---

## üìã –õ–æ–≥–∏ –∏–∑ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞

```
[–í–°–¢–ê–í–ò–¢–¨ –õ–û–ì–ò –ó–î–ï–°–¨]
```

---

## üîó Network –∑–∞–ø—Ä–æ—Å—ã

### Identity API
```
[–í–°–¢–ê–í–ò–¢–¨ –î–ï–¢–ê–õ–ò –ó–ê–ü–†–û–°–ê]
```

### Orders API
```
[–í–°–¢–ê–í–ò–¢–¨ –î–ï–¢–ê–õ–ò –ó–ê–ü–†–û–°–ê]
```

### Transactions API
```
[–í–°–¢–ê–í–ò–¢–¨ –î–ï–¢–ê–õ–ò –ó–ê–ü–†–û–°–ê]
```

---

## üí° –í–æ–ø—Ä–æ—Å—ã –¥–ª—è "—É–º–Ω–æ–≥–æ –¥—Ä—É–≥–∞"

1. 

---

## üìå –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. 

